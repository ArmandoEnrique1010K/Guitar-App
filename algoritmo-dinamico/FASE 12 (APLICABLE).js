export const cleanSoloNotes = [
  {
    rope: 1,
    frets: [
      {
        chord: 0,
        file: "00",
      },
      {
        chord: 1,
        file: "01",
      },
      {
        chord: 2,
        file: "02",
      },
      {
        chord: 3,
        file: "03",
      },
      {
        chord: 4,
        file: "04",
      },
      {
        chord: 5,
        file: "05",
      },
      {
        chord: 6,
        file: "06",
      },
      {
        chord: 7,
        file: "07",
      },
      {
        chord: 8,
        file: "08",
      },
      {
        chord: 9,
        file: "09",
      },
      {
        chord: 10,
        file: "10",
      },
      {
        chord: 11,
        file: "11",
      },
      {
        chord: 12,
        file: "12",
      },
      {
        chord: 13,
        file: "13",
      },
      {
        chord: 14,
        file: "14",
      },
      {
        chord: 15,
        file: "15",
      },
      {
        chord: 16,
        file: "16",
      },
      {
        chord: 17,
        file: "17",
      },
      {
        chord: 18,
        file: "18",
      },
      {
        chord: 19,
        file: "19",
      },
      {
        chord: 20,
        file: "20",
      },
      {
        chord: 21,
        file: "21",
      },
      {
        chord: 22,
        file: "22",
      },
    ],
  },
  {
    rope: 2,
    frets: [
      {
        chord: 0,
        file: "05",
      },
      {
        chord: 1,
        file: "06",
      },
      {
        chord: 2,
        file: "07",
      },
      {
        chord: 3,
        file: "08",
      },
      {
        chord: 4,
        file: "09",
      },
      {
        chord: 5,
        file: "10",
      },
      {
        chord: 6,
        file: "11",
      },
      {
        chord: 7,
        file: "12",
      },
      {
        chord: 8,
        file: "13",
      },
      {
        chord: 9,
        file: "14",
      },
      {
        chord: 10,
        file: "15",
      },
      {
        chord: 11,
        file: "16",
      },
      {
        chord: 12,
        file: "17",
      },
      {
        chord: 13,
        file: "18",
      },
      {
        chord: 14,
        file: "19",
      },
      {
        chord: 15,
        file: "20",
      },
      {
        chord: 16,
        file: "21",
      },
      {
        chord: 17,
        file: "22",
      },
      {
        chord: 18,
        file: "23",
      },
      {
        chord: 19,
        file: "24",
      },
      {
        chord: 20,
        file: "25",
      },
      {
        chord: 21,
        file: "26",
      },
      {
        chord: 22,
        file: "27",
      },
    ],
  },
  {
    rope: 3,
    frets: [
      {
        chord: 0,
        file: "10",
      },
      {
        chord: 1,
        file: "11",
      },
      {
        chord: 2,
        file: "12",
      },
      {
        chord: 3,
        file: "13",
      },
      {
        chord: 4,
        file: "14",
      },
      {
        chord: 5,
        file: "15",
      },
      {
        chord: 6,
        file: "16",
      },
      {
        chord: 7,
        file: "17",
      },
      {
        chord: 8,
        file: "18",
      },
      {
        chord: 9,
        file: "19",
      },
      {
        chord: 10,
        file: "20",
      },
      {
        chord: 11,
        file: "21",
      },
      {
        chord: 12,
        file: "22",
      },
      {
        chord: 13,
        file: "23",
      },
      {
        chord: 14,
        file: "24",
      },
      {
        chord: 15,
        file: "25",
      },
      {
        chord: 16,
        file: "26",
      },
      {
        chord: 17,
        file: "27",
      },
      {
        chord: 18,
        file: "28",
      },
      {
        chord: 19,
        file: "29",
      },
      {
        chord: 20,
        file: "30",
      },
      {
        chord: 21,
        file: "31",
      },
      {
        chord: 22,
        file: "32",
      },
    ],
  },
  {
    rope: 4,
    frets: [
      {
        chord: 0,
        file: "15",
      },
      {
        chord: 1,
        file: "16",
      },
      {
        chord: 2,
        file: "17",
      },
      {
        chord: 3,
        file: "18",
      },
      {
        chord: 4,
        file: "19",
      },
      {
        chord: 5,
        file: "20",
      },
      {
        chord: 6,
        file: "21",
      },
      {
        chord: 7,
        file: "22",
      },
      {
        chord: 8,
        file: "23",
      },
      {
        chord: 9,
        file: "24",
      },
      {
        chord: 10,
        file: "25",
      },
      {
        chord: 11,
        file: "26",
      },
      {
        chord: 12,
        file: "27",
      },
      {
        chord: 13,
        file: "28",
      },
      {
        chord: 14,
        file: "29",
      },
      {
        chord: 15,
        file: "30",
      },
      {
        chord: 16,
        file: "31",
      },
      {
        chord: 17,
        file: "32",
      },
      {
        chord: 18,
        file: "33",
      },
      {
        chord: 19,
        file: "34",
      },
      {
        chord: 20,
        file: "35",
      },
      {
        chord: 21,
        file: "36",
      },
      {
        chord: 22,
        file: "37",
      },
    ],
  },
  {
    rope: 5,
    frets: [
      {
        chord: 0,
        file: "19",
      },
      {
        chord: 1,
        file: "20",
      },
      {
        chord: 2,
        file: "21",
      },
      {
        chord: 3,
        file: "22",
      },
      {
        chord: 4,
        file: "23",
      },
      {
        chord: 5,
        file: "24",
      },
      {
        chord: 6,
        file: "25",
      },
      {
        chord: 7,
        file: "26",
      },
      {
        chord: 8,
        file: "27",
      },
      {
        chord: 9,
        file: "28",
      },
      {
        chord: 10,
        file: "29",
      },
      {
        chord: 11,
        file: "30",
      },
      {
        chord: 12,
        file: "31",
      },
      {
        chord: 13,
        file: "32",
      },
      {
        chord: 14,
        file: "33",
      },
      {
        chord: 15,
        file: "34",
      },
      {
        chord: 16,
        file: "35",
      },
      {
        chord: 17,
        file: "36",
      },
      {
        chord: 18,
        file: "37",
      },
      {
        chord: 19,
        file: "38",
      },
      {
        chord: 20,
        file: "39",
      },
      {
        chord: 21,
        file: "40",
      },
      {
        chord: 22,
        file: "41",
      },
    ],
  },
  {
    rope: 6,
    frets: [
      {
        chord: 0,
        file: "24",
      },
      {
        chord: 1,
        file: "25",
      },
      {
        chord: 2,
        file: "26",
      },
      {
        chord: 3,
        file: "27",
      },
      {
        chord: 4,
        file: "28",
      },
      {
        chord: 5,
        file: "29",
      },
      {
        chord: 6,
        file: "30",
      },
      {
        chord: 7,
        file: "31",
      },
      {
        chord: 8,
        file: "32",
      },
      {
        chord: 9,
        file: "33",
      },
      {
        chord: 10,
        file: "34",
      },
      {
        chord: 11,
        file: "35",
      },
      {
        chord: 12,
        file: "36",
      },
      {
        chord: 13,
        file: "37",
      },
      {
        chord: 14,
        file: "38",
      },
      {
        chord: 15,
        file: "39",
      },
      {
        chord: 16,
        file: "40",
      },
      {
        chord: 17,
        file: "41",
      },
      {
        chord: 18,
        file: "42",
      },
      {
        chord: 19,
        file: "43",
      },
      {
        chord: 20,
        file: "44",
      },
      {
        chord: 21,
        file: "45",
      },
      {
        chord: 22,
        file: "46",
      },
    ],
  },
];

// TECLAS ASIGNADAS PARA UN TECLADO QWERTY (TECLADO DE LATINOAMERICA)
export const keyboardKeys = [
  {
    row: 1,
    keys: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "'"],
  },
  {
    row: 2,
    keys: ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "´"],
  },
  {
    row: 3,
    keys: ["a", "s", "d", "f", "g", "h", "j", "k", "l", "ñ", "{"],
  },
  {
    row: 4,
    keys: ["z", "x", "c", "v", "b", "n", "m", ",", ".", "-", "Shift"],
  },
  /*
  {
    row: 5,
    keys: [],
  },
  {
    row: 6,
    keys: [],
  },
  */
];

// Número de teclas asignadas por cada fila del teclado (restamos 1 porque los índices comienzan desde 0)
const keysByRow = 11 - 1;

// Función auxiliar para asignar teclas a los trastes de una cuerda
export const assignKeysToFrets = (
  file,
  firstRope,
  secondRope,
  thirdRope,
  fourthRope,
  fifthRope,
  sixthRope,
  firstRowKeys,
  secondRowKeys,
  thirdRowKeys,
  fourthRowKeys,
  fifthRowKeys,
  sixthRowKeys,
  startFromTheChord,
  lockTheZeroChord,
  invertKeyboard
) => {
  let assignFirstRowKeys =
    invertKeyboard === false
      ? keyboardKeys[firstRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - firstRowKeys]?.keys;
  let assignSecondRowKeys =
    invertKeyboard === false
      ? keyboardKeys[secondRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - secondRowKeys]?.keys;
  let assignThirdRowKeys =
    invertKeyboard === false
      ? keyboardKeys[thirdRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - thirdRowKeys]?.keys;
  let assignFourthRowKeys =
    invertKeyboard === false
      ? keyboardKeys[fourthRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - fourthRowKeys]?.keys;
  let assignFifthRowKeys =
    invertKeyboard === false
      ? keyboardKeys[fifthRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - fifthRowKeys]?.keys;
  let assignSixthRowKeys =
    invertKeyboard === false
      ? keyboardKeys[sixthRowKeys]?.keys
      : keyboardKeys[keyboardKeys.length - 1 - sixthRowKeys]?.keys;

  let findFirstRope = file.find((n) => n.rope === firstRope);
  let findSecondRope = file.find((n) => n.rope === secondRope);
  let findThirdRope = file.find((n) => n.rope === thirdRope);
  let findFourthRope = file.find((n) => n.rope === fourthRope);
  let findFifthRope = file.find((n) => n.rope === fifthRope);
  let findSixthRope = file.find((n) => n.rope === sixthRope);

  // PRIMERA
  for (let index = 0; index < findFirstRope.frets.length; index++) {
    let element = findFirstRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignFirstRowKeys?.length) {
        element.key = assignFirstRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignFirstRowKeys?.[0] !== undefined ? assignFirstRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignFirstRowKeys?.length + keysByRow + 2) {
          element.key =
            assignFirstRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignFirstRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignFirstRowKeys?.length + keysByRow + 1) {
        element.key = assignFirstRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  // SEGUNDA
  for (let index = 0; index < findSecondRope.frets.length; index++) {
    let element = findSecondRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignSecondRowKeys?.length) {
        element.key = assignSecondRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignSecondRowKeys?.[0] !== undefined ? assignSecondRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignSecondRowKeys?.length + keysByRow + 2) {
          element.key =
            assignSecondRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignSecondRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignSecondRowKeys?.length + keysByRow + 1) {
        element.key = assignSecondRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  // TERCERA
  for (let index = 0; index < findThirdRope.frets.length; index++) {
    let element = findThirdRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignThirdRowKeys?.length) {
        element.key = assignThirdRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignThirdRowKeys?.[0] !== undefined ? assignThirdRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignThirdRowKeys?.length + keysByRow + 2) {
          element.key =
            assignThirdRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignThirdRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignThirdRowKeys?.length + keysByRow + 1) {
        element.key = assignThirdRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  // CUARTA
  for (let index = 0; index < findFourthRope.frets.length; index++) {
    let element = findFourthRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignFourthRowKeys?.length) {
        element.key = assignFourthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignFourthRowKeys?.[0] !== undefined ? assignFourthRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignFourthRowKeys?.length + keysByRow + 2) {
          element.key =
            assignFourthRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignFourthRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignFourthRowKeys?.length + keysByRow + 1) {
        element.key = assignFourthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  // QUINTA
  for (let index = 0; index < findFifthRope.frets.length; index++) {
    let element = findFifthRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignFifthRowKeys?.length) {
        element.key = assignFifthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignFifthRowKeys?.[0] !== undefined ? assignFifthRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignFifthRowKeys?.length + keysByRow + 2) {
          element.key =
            assignFifthRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignFifthRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignFifthRowKeys?.length + keysByRow + 1) {
        element.key = assignFifthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  // SEXTA / ULTIMA
  for (let index = 0; index < findSixthRope.frets.length; index++) {
    let element = findSixthRope.frets[index];

    if (index >= startFromTheChord && lockTheZeroChord === false) {
      if (index <= assignSixthRowKeys?.length) {
        element.key = assignSixthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    } else {
      element.key = undefined;
    }

    if (lockTheZeroChord === true && startFromTheChord === 0) {
      startFromTheChord = 1;
    }

    if (index === 0 && lockTheZeroChord === true) {
      const elementKey =
        assignSixthRowKeys?.[0] !== undefined ? assignSixthRowKeys?.[0] : "";
      if (elementKey) {
        element.key = elementKey;
      }
      continue;
    }

    if (index !== 0 && lockTheZeroChord === true) {
      if (index >= startFromTheChord) {
        if (index < assignSixthRowKeys?.length + keysByRow + 2) {
          element.key =
            assignSixthRowKeys[index - startFromTheChord + 1] === undefined
              ? "ESTO SE DEBE OCULTAR"
              : assignSixthRowKeys[index - startFromTheChord + 1];
        } else {
          element.key = "UNDEFINED";
        }
      } else {
        element.key = "ESTO SE DEBE OCULTAR";
      }
    }

    if (lockTheZeroChord === false) {
      if (index <= assignSixthRowKeys?.length + keysByRow + 1) {
        element.key = assignSixthRowKeys[index - startFromTheChord];
      } else {
        element.key = undefined;
      }
    }

    if (lockTheZeroChord === false && index <= startFromTheChord - 1) {
      element.key = "ESTO SE DEBE OCULTAR";
    }

    if (index > keysByRow + startFromTheChord) {
      element.key = "ESTO SE DEBE OCULTAR";
    }
  }

  let newFrets1 = findFirstRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  let newFrets2 = findSecondRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  let newFrets3 = findThirdRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  let newFrets4 = findFourthRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  let newFrets5 = findFifthRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  let newFrets6 = findSixthRope.frets.filter(
    (f) => f.key !== "ESTO SE DEBE OCULTAR"
  );

  return [
    { rope: findFirstRope.rope, frets: newFrets1 },
    { rope: findSecondRope.rope, frets: newFrets2 },
    { rope: findThirdRope.rope, frets: newFrets3 },
    { rope: findFourthRope.rope, frets: newFrets4 },
    { rope: findFifthRope.rope, frets: newFrets5 },
    { rope: findSixthRope.rope, frets: newFrets6 },
  ];
};

console.log(
  assignKeysToFrets(
    cleanSoloNotes,
    1,
    2,
    3,
    4,
    5,
    6,
    0,
    1,
    2,
    3,
    4,
    5,
    10,
    false,
    false
  )
);
